<!doctype html>

<html lang="en" class="light-style layout-navbar-fixed layout-menu-fixed layout-compact" dir="ltr" data-theme="theme-default" data-assets-path="/assets/" data-template="vertical-menu-template" data-style="light">
  <head>
    <%- include('../layout/head') %>
  </head>

  <body>
    <!-- Layout wrapper -->
    <div class="layout-wrapper layout-content-navbar">
      <div class="layout-container">
        <!-- Menu -->

       <%- include('../layout/aside') %>
        <!-- / Menu -->

        <!-- Layout container -->
        <div class="layout-page">
          <!-- Navbar -->

         <%- include('../layout/side') %>

          <!-- / Navbar -->

          <!-- Content wrapper -->
          <div class="content-wrapper">
            <!-- Content -->

            <div class="container-xxl flex-grow-1 container-p-y">
                <!-- Search Form -->
                <div class="card mb-4">
                  <!-- <div class="card-header">
                    <h5 class="mb-0">Search Payments</h5>
                  </div> -->
                  <div class="card-body">
                    <form method="GET" action="">
                      <div class="row">
                        <div class="col-md-2">
                          <div class="mb-3">
                            <label for="invoice" class="form-label">Mandate Type</label>
                            <select name="" id="" class="form-control">
                              <option value="">Select mandate type</option>
                              <option value="Buildings">Buildings</option>
                              <option value="Business">Business</option>
                            </select>
                          </div>
                        </div>
                        <div class="col-md-2">
                          <div class="mb-3">
                            <label for="paymentRef" class="form-label">Mandate Year</label>
                            <input type="text" disabled id="current_year" name="current_year" class="form-control" value="" />
                          </div>
                        </div>
                       
                        <div class="col-md-3">
                          <div class="mb-3">
                            <label for="paymentDateFrom" class="form-label">Ward/Area</label>
                            <select name="ward" class="form-control" id="ward">
                              <option value="All">All</option>
                              <% areas.map(area => { %>
                                <option value="<%= area.Id %>"><%= area.areaname %></option>
                              <% }) %>
                            </select>
                          </div>
                        </div>
                        <div class="col-md-3">
                          <div class="mb-3">
                            <label for="paymentDateTo" class="form-label">Street</label>
                            <select name="" class="form-control" id=""></select>
                          </div>
                        </div>
                        <div class="col-md-2">
                          <div class="text-end" style="padding-top: 20px;">
                            <button type="submit" class="btn btn-primary">Generate Mandate</button>
                          </div>
                        </div>
                      </div>
                      
                    </form>
                  </div>
                </div>

               
              
            </div>
              <!-- / Content -->

        <%- include('../layout/footer') %>
        <script>
          const d = Date.now();
          const currentYear = new Intl.DateTimeFormat("en", { year: "numeric" }).format(d);
          $("#current_year").val(currentYear);
          $("#_year").val(currentYear);


          const ward = document.getElementById('ward').addEventListener('change', findStreets)

          async function findStreets() {
            const wardId = this.value()

            
          }

        </script>
  </body>
</html>
